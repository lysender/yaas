{%- import "../../elements/select.html" as scope -%}

{% match error_message %}
    {% when Some with (msg) %}
        <div class="mb-5 notification is-danger">
            {{ msg }}
        </div>
    {% when None %}
{% endmatch %}

<div class="field mb-5">
    <label class="label">User</label>
    <div class="control">
        <input type="hidden" name="user_id" value="{{ payload.user_id }}" />
        <input type="hidden" name="user_email" value="{{ payload.user_email }}" />
        <p><strong>{{ payload.user_email }}</strong></p>
    </div>
</div>

<div class="field">
    <label class="label">Role</label>
    <div class="control">
        <div class="select is-fullwidth">
            {% call scope::h_select("role", payload.role, "Select a role", "", role_options ) %}
        </div>
    </div>
</div>

<div class="field">
    <label class="label">Active</label>
    <div class="control">
        <label class="checkbox">
            {%if let Some(active) = payload.active %}
                <input name="active" type="checkbox" value="1" checked />
            {% else %}
                <input name="active" type="checkbox" value="1" />
            {% endif %}
            &nbsp;Active
        </label>
    </div>
</div>

<hr />

<div class="field is-grouped">
    <div class="control">
        <input type="hidden" name="token" value="{{ payload.token }}" />
        <button class="button is-link" type="submit" name="submit">Add Member</button>
    </div>
    <div class="control">
        <a class="button is-light" href="/orgs/{{ org.id }}/members">Cancel</a>
    </div>
</div>
